{"version":3,"sources":["firebase/config.js","firebase/firebase.js","firebase/context.js","firebase/index.js","components/Auth/useAuth.js","components/Auth/useFormValidation.js","components/Auth/validateCreateLink.js","components/Link/CreateLink.js","utils/index.js","components/Link/LinkItem.js","components/Link/SearchLinks.js","components/Auth/validateLogin.js","components/Auth/Login.js","components/Auth/ForgotPassword.js","components/Link/LinkDetail.js","components/Link/LinkList.js","components/Header.js","components/App.js","serviceWorker.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","Firebase","Object","classCallCheck","this","app","initializeApp","auth","db","firestore","name","email","password","createUserWithEmailAndPassword","newUser","user","updateProfile","displayName","signInWithEmailAndPassword","signOut","sendPasswordResetEmail","FirebaseContext","React","createContext","useAuth","_React$useState","useState","_React$useState2","slicedToArray","authUser","setAuthUser","useEffect","unsubscribe","onAuthStateChanged","useFormValidation","initialState","validate","authenticate","values","setValues","_React$useState3","_React$useState4","errors","setErrors","_React$useState5","_React$useState6","isSubmiting","setIsSubmiting","keys","length","handleChange","event","persist","previousValues","objectSpread","defineProperty","target","value","handleSubmit","preventDefault","validationErrors","handleBlure","validateCreateLink","description","url","test","INITIAL_STATE","CreateLink","props","_React$useContext","useContext","_useFormValidation","newLink","postedBy","id","uid","voteCount","votes","comments","created","Date","now","collection","add","history","push","react_default","a","createElement","onSubmit","className","onChange","placeholder","autoComplete","text","type","LINKS_PER_PAGE","withRouter","_ref","showCount","link","index","postedByAuthUser","style","cursor","fontSize","color","onClick","voteRef","doc","get","then","exists","previosVotes","data","vote","votedBy","updatedVotes","concat","toConsumableArray","update","href","replace","distanceInWordsToNow","react_router_dom","to","Fragment","delete","console","log","catch","err","error","SearchLinks","links","setLinks","filteredlinks","setFilteredLinks","filter","setFilter","snapshot","docs","map","query","toLowerCase","machedLinks","includes","filteredLink","Link_LinkItem","key","validateLogin","Login","_authnticateUser","apply","arguments","_useState","_useState2","login","setLogin","_useState3","_useState4","firebaseError","setFirebaseError","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","register","t0","message","stop","onBlur","disabled","background","prevLogin","ForgotPassword","resetPasswordEmail","setResetPasswordEmail","isPaawordReset","setIsPasswordReset","passwordResetError","setPasswordResetError","_handleResetPassword","params","resetPassword","_x","LinkDetail","setLink","commentText","setCommentText","linkId","match","linkRef","rows","cols","previousComments","comment","updatedComments","preState","LinkList","setCursor","loading","setLoading","isNewPage","location","pathname","isTopPage","page","Number","linskRef","handleSnapshot","lastLink","hasCursor","Boolean","orderBy","limit","onSnapshot","startAfter","offset","axios","response","getLinks","pageIndex","opacity","src","alt","logout","App","context","Provider","components_Header","react_router","exact","path","render","component","SearchLink","window","hostname","ReactDOM","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"qRAWeA,eAVM,CACnBC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,8CC4BMC,EADE,eA5Bf,SAAAC,IAAeC,OAAAC,EAAA,EAAAD,CAAAE,KAAAH,GAEbI,IAAIC,cAAcd,GAElBY,KAAKG,KAAOF,IAAIE,OAEhBH,KAAKI,GAAKH,IAAII,yGAEDC,EAAMC,EAAOC,yFACJR,KAAKG,KAAKM,+BAC9BF,EACAC,iBAFIE,kBAIOA,EAAQC,KAAKC,cAAc,CACtCC,YAAaP,yNAGLC,EAAOC,mFACJR,KAAKG,KAAKW,2BAA2BP,EAAOC,ySAGnDR,KAAKG,KAAKY,0LAEER,mFACZP,KAAKG,KAAKa,uBAAuBT,gHC3B5BU,EAFSC,IAAMC,cAAc,MCG7BvB,ICcAwB,MAhBf,WAAmB,IAAAC,EACeH,IAAMI,SAAS,MAD9BC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAAuB,EAAA,GACVI,EADUF,EAAA,GACAG,EADAH,EAAA,GAajB,OAVAL,IAAMS,UAAU,WACd,IAAMC,EAAchC,EAASO,KAAK0B,mBAAmB,SAAAlB,GAEjDe,EADEf,GAGU,QAGhB,OAAO,kBAAMiB,MACZ,IACIH,mBCgCMK,MA9Cf,SAA2BC,EAAcC,EAAUC,GAAc,IAAAZ,EACnCH,IAAMI,SAASS,GADoBR,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAAuB,EAAA,GACxDa,EADwDX,EAAA,GAChDY,EADgDZ,EAAA,GAAAa,EAEnClB,IAAMI,SAAS,IAFoBe,EAAAvC,OAAA0B,EAAA,EAAA1B,CAAAsC,EAAA,GAExDE,EAFwDD,EAAA,GAEhDE,EAFgDF,EAAA,GAAAG,EAGzBtB,IAAMI,UAAS,GAHUmB,EAAA3C,OAAA0B,EAAA,EAAA1B,CAAA0C,EAAA,GAGxDE,EAHwDD,EAAA,GAG3CE,EAH2CF,EAAA,GAoC/D,OA/BAvB,IAAMS,UAAU,WACVe,IAC8C,IAA/B5C,OAAO8C,KAAKN,GAAQO,QAEnCZ,IACAU,GAAe,IAEfA,GAAe,KAGlB,CAACL,IAqBG,CACLQ,aApBF,SAAsBC,GACpBA,EAAMC,UACNb,EAAU,SAAAc,GAAc,OAAAnD,OAAAoD,EAAA,EAAApD,CAAA,GACnBmD,EADmBnD,OAAAqD,EAAA,EAAArD,CAAA,GAErBiD,EAAMK,OAAO9C,KAAOyC,EAAMK,OAAOC,WAiBpCC,aARF,SAAsBP,GACpBA,EAAMQ,iBACN,IAAMC,EAAmBxB,EAASE,GAClCK,EAAUiB,GACVb,GAAe,IAKfc,YAdF,WACE,IAAMD,EAAmBxB,EAASE,GAClCK,EAAUiB,IAaVtB,SACAI,SACAI,gBC5CW,SAASgB,EAAmBxB,GACzC,IAAII,EAAS,GAcb,OAXKJ,EAAOyB,YAEDzB,EAAOyB,YAAYd,OAAS,KACrCP,EAAOqB,YAAc,8CAFrBrB,EAAOqB,YAAc,uBAKlBzB,EAAO0B,IAEA,gCAAgCC,KAAK3B,EAAO0B,OACtDtB,EAAOsB,IAAM,4BAFbtB,EAAOsB,IAAM,eAIRtB,ECVT,IAAMwB,EAAgB,CACpBH,YAAa,GACbC,IAAK,IAgEQG,MA7Df,SAAoBC,GAAO,IAAAC,EACE/C,IAAMgD,WAAWjD,GAApCrB,EADiBqE,EACjBrE,SAAUe,EADOsD,EACPtD,KADOwD,EAQrBrC,EAAkBgC,EAAeJ,EAErC,WACE,GAAK/C,EAEE,KACGiD,EAAqB1B,EAArB0B,IAAKD,EAAgBzB,EAAhByB,YACPS,EAAU,CACdR,MACAD,cACAU,SAAU,CACRC,GAAI3D,EAAK4D,IACTjE,KAAMK,EAAKE,aAEb2D,UAAW,EACXC,MAAO,GACPC,SAAU,GACVC,QAASC,KAAKC,OAEhBjF,EAASQ,GAAG0E,WAAW,SAASC,IAAIX,GACpCJ,EAAMgB,QAAQC,KAAK,UAhBnBjB,EAAMgB,QAAQC,KAAK,YATrBnC,EAHuBqB,EAGvBrB,aACAQ,EAJuBa,EAIvBb,aACApB,EALuBiC,EAKvBjC,OACAI,EANuB6B,EAMvB7B,OA0BF,OAhCyB6B,EAOvBzB,YA0BAwC,EAAAC,EAAAC,cAAA,QAAMC,SAAU/B,EAAcgC,UAAU,wBACtCJ,EAAAC,EAAAC,cAAA,SACEG,SAAUzC,EACVO,MAAOnB,EAAOyB,YACdrD,KAAK,cACLkF,YAAY,8BACZC,aAAa,MACbC,KAAK,OACLJ,UAAWhD,EAAOqB,aAAe,gBAElCrB,EAAOqB,aAAeuB,EAAAC,EAAAC,cAAA,KAAGE,UAAU,cAAchD,EAAOqB,aACzDuB,EAAAC,EAAAC,cAAA,SACEG,SAAUzC,EACVO,MAAOnB,EAAO0B,IACdtD,KAAK,MACLkF,YAAY,UACZC,aAAa,MACbC,KAAK,MACLJ,UAAWhD,EAAOsB,KAAO,gBAE1BtB,EAAOsB,KAAOsB,EAAAC,EAAAC,cAAA,KAAGE,UAAU,cAAchD,EAAOsB,KACjDsB,EAAAC,EAAAC,cAAA,UAAQE,UAAU,SAASK,KAAK,UAAhC,oBChEOC,EAAiB,uBCuFfC,kBAjFf,SAAAC,GAAuD,IAAnCC,EAAmCD,EAAnCC,UAAWC,EAAwBF,EAAxBE,KAAMC,EAAkBH,EAAlBG,MAAOjB,EAAWc,EAAXd,QAAWf,EAC1B/C,IAAMgD,WAAWjD,GAApCrB,EAD6CqE,EAC7CrE,SAAUe,EADmCsD,EACnCtD,KAgCZuF,EAAmBvF,GAAQA,EAAK4D,MAAQyB,EAAK3B,SAASC,GAE5D,OACEY,EAAAC,EAAAC,cAAA,OAAKE,UAAU,wBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,qBACZS,GAAab,EAAAC,EAAAC,cAAA,QAAME,UAAU,QAAQW,EAAxB,KACdf,EAAAC,EAAAC,cAAA,OACEE,UAAU,cACVa,MAAO,CACLC,OAAQ,UACRC,SAAU,SACVC,MAAO,eAETC,QA3CR,WACE,GAAK5F,EAEE,CAEL,IAAM6F,EAAU5G,EAASQ,GAAG0E,WAAW,SAAS2B,IAAIT,EAAK1B,IACzDkC,EAAQE,MAAMC,KAAK,SAAAF,GACjB,GAAIA,EAAIG,OAAQ,CACd,IAAMC,EAAeJ,EAAIK,OAAOrC,MAC1BsC,EAAO,CAAEC,QAAS,CAAE1C,GAAI3D,EAAK4D,IAAKjE,KAAMK,EAAKE,cAC7CoG,EAAY,GAAAC,OAAApH,OAAAqH,EAAA,EAAArH,CAAO+G,GAAP,CAAqBE,IACjCvC,EAAYyC,EAAapE,OAE/B2D,EAAQY,OAAO,CAAE3C,MAAOwC,EAAczC,sBAX1CQ,EAAQC,KAAK,YAkCX,WAYFC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OACbJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGiC,KAAMrB,EAAKpC,IAAK0B,UAAU,sBAC1BU,EAAKrC,aACH,IACLuB,EAAAC,EAAAC,cAAA,QAAME,UAAU,QAAhB,IAAmCU,EAAKpC,ID3DrC0D,QAAQ,gBAAiB,IC2D5B,MAEFpC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,mBACZU,EAAKxB,UADR,aAC6BwB,EAAK3B,SAAS/D,KAAM,IAC9CiH,IAAqBvB,EAAKrB,SAC1B,QACDO,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAMC,GAAE,SAAAP,OAAWlB,EAAK1B,KACrB0B,EAAKtB,SAAS7B,OAAS,EAAvB,GAAAqE,OACMlB,EAAKtB,SAAS7B,OADpB,aAEG,WAELqD,GACChB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACG,QACDxC,EAAAC,EAAAC,cAAA,QAAME,UAAU,gBAAgBiB,QAhD5C,WACkB3G,EAASQ,GAAG0E,WAAW,SAAS2B,IAAIT,EAAK1B,IAEtDqD,SACAhB,KAAK,WACJiB,QAAQC,IAAR,oBAAAX,OAAgClB,EAAK1B,GAArC,eAEDwD,MAAM,SAAAC,GACLH,QAAQI,MAAM,sBAAuBD,OAwC/B,gBCjBCE,MAvDf,WAAuB,IACbrI,EAAasB,IAAMgD,WAAWjD,GAA9BrB,SADayB,EAEKH,IAAMI,SAAS,IAFpBC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAAuB,EAAA,GAEd6G,EAFc3G,EAAA,GAEP4G,EAFO5G,EAAA,GAAAa,EAGqBlB,IAAMI,SAAS,IAHpCe,EAAAvC,OAAA0B,EAAA,EAAA1B,CAAAsC,EAAA,GAGdgG,EAHc/F,EAAA,GAGCgG,EAHDhG,EAAA,GAAAG,EAIOtB,IAAMI,SAAS,IAJtBmB,EAAA3C,OAAA0B,EAAA,EAAA1B,CAAA0C,EAAA,GAId8F,EAJc7F,EAAA,GAIN8F,EAJM9F,EAAA,GAmCrB,OA7BAd,oBAAU,WAKR/B,EAASQ,GACN0E,WAAW,SACX4B,MACAC,KAAK,SAAA6B,GACJ,IAAMN,EAAQM,EAASC,KAAKC,IAAI,SAAAjC,GAC9B,OAAO3G,OAAAoD,EAAA,EAAApD,CAAA,CAAEwE,GAAImC,EAAInC,IAAOmC,EAAIK,UAE9BqB,EAASD,MAVZ,IA4BDhD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,QAAMC,SAfV,SAAsBtC,GACpBA,EAAMQ,iBACN,IAAMoF,EAAQL,EAAOM,cACfC,EAAcX,EAAMI,OAAO,SAAAtC,GAC/B,OACEA,EAAKrC,YAAYiF,cAAcE,SAASH,IACxC3C,EAAKpC,IAAIgF,cAAcE,SAASH,IAChC3C,EAAK3B,SAAS/D,KAAKsI,cAAcE,SAASH,KAG9CN,EAAiBQ,KAMb3D,EAAAC,EAAAC,cAAA,qBACSF,EAAAC,EAAAC,cAAA,SAAOG,SAAU,SAAAxC,GAAK,OAAIwF,EAAUxF,EAAMK,OAAOC,UACxD6B,EAAAC,EAAAC,cAAA,sBAGHgD,EAAcM,IAAI,SAACK,EAAc9C,GAAf,OACjBf,EAAAC,EAAAC,cAAC4D,EAAD,CACEC,IAAKF,EAAazE,GAClByB,WAAW,EACXC,KAAM+C,EACN9C,MAAOA,QCpDF,SAASiD,EAAchH,GACpC,IAAII,EAAS,GAcb,OAXKJ,EAAO3B,MAEA,2CAA2CsD,KAAK3B,EAAO3B,SACjE+B,EAAO/B,MAAQ,yBAFf+B,EAAO/B,MAAQ,iBAKZ2B,EAAO1B,SAED0B,EAAO1B,SAASqC,OAAS,IAClCP,EAAO9B,SAAW,0CAFlB8B,EAAO9B,SAAW,oBAIb8B,ECTT,IAAMwB,EAAgB,CACpBxD,KAAM,GACNC,MAAO,GACPC,SAAU,IA0FG2I,MAvFf,SAAenF,GAAO,IAAAG,EAQhBrC,EAAkBgC,EAAeoF,EARjB,kBAAAE,EAAAC,MAAArJ,KAAAsJ,aAElBxG,EAFkBqB,EAElBrB,aACAQ,EAHkBa,EAGlBb,aACAG,EAJkBU,EAIlBV,YACAvB,EALkBiC,EAKlBjC,OACAI,EANkB6B,EAMlB7B,OACAI,EAPkByB,EAOlBzB,YAPkB6G,EASMjI,oBAAS,GATfkI,EAAA1J,OAAA0B,EAAA,EAAA1B,CAAAyJ,EAAA,GASbE,EATaD,EAAA,GASNE,EATMF,EAAA,GAAAG,EAUsBrI,mBAAS,MAV/BsI,EAAA9J,OAAA0B,EAAA,EAAA1B,CAAA6J,EAAA,GAUbE,EAVaD,EAAA,GAUEE,EAVFF,EAAA,YAAAR,IAAA,OAAAA,EAAAtJ,OAAAiK,EAAA,EAAAjK,CAAAkK,EAAA7E,EAAA8E,KAYpB,SAAAC,IAAA,IAAA5J,EAAAC,EAAAC,EAAA,OAAAwJ,EAAA7E,EAAAgF,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACUhK,EAA0B4B,EAA1B5B,KAAMC,EAAoB2B,EAApB3B,MAAOC,EAAa0B,EAAb1B,SADvB4J,EAAAC,KAAA,GAIIZ,EAJJ,CAAAW,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAKc1K,EAAS6J,MAAMlJ,EAAOC,GALpC,OAAA4J,EAAAE,KAAA,sBAAAF,EAAAE,KAAA,EAMc1K,EAAS2K,SAASjK,EAAMC,EAAOC,GAN7C,OAOIwD,EAAMgB,QAAQC,KAAK,KAPvBmF,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAI,GAAAJ,EAAA,SASIxC,QAAQI,MAAM,uBAAdoC,EAAAI,IACAV,EAAiBM,EAAAI,GAAMC,SAV3B,yBAAAL,EAAAM,SAAAR,EAAA,mBAZoBb,MAAArJ,KAAAsJ,WA0BpB,OACEpE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIE,UAAU,OAAOmE,EAAQ,QAAU,kBACvCvE,EAAAC,EAAAC,cAAA,QAAMC,SAAU/B,EAAcgC,UAAU,qBACpCmE,GACAvE,EAAAC,EAAAC,cAAA,SACEG,SAAUzC,EACVO,MAAOnB,EAAO5B,KACdA,KAAK,OACLqF,KAAK,OACLH,YAAY,YACZC,aAAa,QAGjBP,EAAAC,EAAAC,cAAA,SACEG,SAAUzC,EACV6H,OAAQlH,EACRJ,MAAOnB,EAAO3B,MACdoF,KAAK,QACLrF,KAAK,QACLgF,UAAWhD,EAAO/B,OAAS,cAC3BiF,YAAY,aACZC,aAAa,QAEdnD,EAAO/B,OAAS2E,EAAAC,EAAAC,cAAA,KAAGE,UAAU,cAAchD,EAAO/B,OACnD2E,EAAAC,EAAAC,cAAA,SACEG,SAAUzC,EACV6H,OAAQlH,EACRJ,MAAOnB,EAAO1B,SACdmF,KAAK,WACLrF,KAAK,WACLgF,UAAWhD,EAAO9B,UAAY,cAC9BgF,YAAY,6BAEblD,EAAO9B,UAAY0E,EAAAC,EAAAC,cAAA,KAAGE,UAAU,cAAchD,EAAO9B,UACrDqJ,GAAiB3E,EAAAC,EAAAC,cAAA,KAAGE,UAAU,cAAcuE,GAC7C3E,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YACbJ,EAAAC,EAAAC,cAAA,UACEO,KAAK,SACLL,UAAU,qBACVsF,SAAUlI,EACVyD,MAAO,CAAE0E,WAAYnI,EAAc,OAAS,WAJ9C,UAQAwC,EAAAC,EAAAC,cAAA,UACEO,KAAK,SACLL,UAAU,iBACViB,QAAS,kBAAMmD,EAAS,SAAAoB,GAAS,OAAKA,MAErCrB,EAAQ,6BAA+B,8BAI9CvE,EAAAC,EAAAC,cAAA,OAAKE,UAAU,mBACbJ,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAMC,GAAG,UAAT,uBCrDOsD,MArCf,WAA0B,IAChBnL,EAAasB,IAAMgD,WAAWjD,GAA9BrB,SADgByB,EAE4BH,IAAMI,SAAS,IAF3CC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAAuB,EAAA,GAEjB2J,EAFiBzJ,EAAA,GAEG0J,EAFH1J,EAAA,GAAAa,EAGqBlB,IAAMI,UAAS,GAHpCe,EAAAvC,OAAA0B,EAAA,EAAA1B,CAAAsC,EAAA,GAGjB8I,EAHiB7I,EAAA,GAGD8I,EAHC9I,EAAA,GAAAG,EAI4BtB,IAAMI,SAAS,MAJ3CmB,EAAA3C,OAAA0B,EAAA,EAAA1B,CAAA0C,EAAA,GAIjB4I,EAJiB3I,EAAA,GAIG4I,EAJH5I,EAAA,YAAA6I,IAAA,OAAAA,EAAAxL,OAAAiK,EAAA,EAAAjK,CAAAkK,EAAA7E,EAAA8E,KAMxB,SAAAC,EAAmCqB,GAAnC,OAAAvB,EAAA7E,EAAAgF,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEU1K,EAAS4L,cAAcR,GAFjC,OAGIG,GAAmB,GACnBE,EAAsB,MAJ1BjB,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAI,GAAAJ,EAAA,SAMIxC,QAAQI,MAAM,sBAAdoC,EAAAI,IACAa,EAAsBjB,EAAAI,GAAMC,SAC5BU,GAAmB,GARvB,yBAAAf,EAAAM,SAAAR,EAAA,kBANwBb,MAAArJ,KAAAsJ,WAkBxB,OACEpE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SACEO,KAAK,QACLL,UAAU,QACVE,YAAY,6BACZD,SAAU,SAAAxC,GAAK,OAAIkI,EAAsBlI,EAAMK,OAAOC,UAExD6B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQE,UAAU,SAASiB,QA3BT,SAAAkF,GAAA,OAAAH,EAAAjC,MAAArJ,KAAAsJ,aA2BlB,mBAID4B,GAAkBhG,EAAAC,EAAAC,cAAA,0CAClBgG,GAAsBlG,EAAAC,EAAAC,cAAA,KAAGE,UAAU,cAAc8F,KCuCzCM,MArEf,SAAoB1H,GAAO,IAAAC,EACE/C,IAAMgD,WAAWjD,GAApCrB,EADiBqE,EACjBrE,SAAUe,EADOsD,EACPtD,KADOU,EAEDH,IAAMI,SAAS,MAFdC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAAuB,EAAA,GAElB2E,EAFkBzE,EAAA,GAEZoK,EAFYpK,EAAA,GAAAa,EAGalB,IAAMI,SAAS,IAH5Be,EAAAvC,OAAA0B,EAAA,EAAA1B,CAAAsC,EAAA,GAGlBwJ,EAHkBvJ,EAAA,GAGLwJ,EAHKxJ,EAAA,GAInByJ,EAAS9H,EAAM+H,MAAMR,OAAOO,OAC5BE,EAAUpM,EAASQ,GAAG0E,WAAW,SAAS2B,IAAIqF,GAoCpD,OAlCA5K,IAAMS,UAAU,WAKdqK,EAAQtF,MAAMC,KAAK,SAAAF,GACjBkF,EAAQ7L,OAAAoD,EAAA,EAAApD,CAAA,GAAK2G,EAAIK,OAAV,CAAkBxC,GAAImC,EAAInC,SAJlC,IAgCK0B,EAGNd,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC4D,EAAD,CAAUjD,WAAW,EAAOC,KAAMA,IAClCd,EAAAC,EAAAC,cAAA,YACEG,SAAU,SAAAxC,GAAK,OAAI8I,EAAe9I,EAAMK,OAAOC,QAC/CA,MAAOuI,EACPK,KAAK,IACLC,KAAK,OAEPhH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQmB,QApCd,WACO5F,EAGHqL,EAAQtF,MAAMC,KAAK,SAAAF,GACjB,GAAIA,EAAIG,OAAQ,CACd,IAAMuF,EAAmB1F,EAAIK,OAAOpC,SAC9B0H,EAAU,CACd/H,SAAU,CAAEC,GAAI3D,EAAK4D,IAAKjE,KAAMK,EAAKE,aACrC8D,QAASC,KAAKC,MACda,KAAMkG,GAEFS,EAAe,GAAAnF,OAAApH,OAAAqH,EAAA,EAAArH,CAAOqM,GAAP,CAAyBC,IAC9CJ,EAAQ5E,OAAO,CAAE1C,SAAU2H,IAC3BV,EAAQ,SAAAW,GAAQ,OAAAxM,OAAAoD,EAAA,EAAApD,CAAA,GACXwM,EADW,CAEd5H,SAAU2H,MAEZR,EAAe,OAhBnB7H,EAAMgB,QAAQC,KAAK,WAkCkBK,UAAU,UAA7C,gBAIDU,EAAKtB,SAASgE,IAAI,SAAC0D,EAASnG,GAAV,OACjBf,EAAAC,EAAAC,cAAA,OAAK6D,IAAKhD,GACRf,EAAAC,EAAAC,cAAA,KAAGE,UAAU,kBACV8G,EAAQ/H,SAAS/D,KADpB,MAC6BiH,IAAqB6E,EAAQzH,UAE1DO,EAAAC,EAAAC,cAAA,SAAIgH,EAAQ1G,UApBlBR,EAAAC,EAAAC,cAAA,2CC0DWmH,MAnGf,SAAkBvI,GAAO,IACfpE,EAAasB,IAAMgD,WAAWjD,GAA9BrB,SADeyB,EAEGH,IAAMI,SAAS,IAFlBC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAAuB,EAAA,GAEhB6G,EAFgB3G,EAAA,GAET4G,EAFS5G,EAAA,GAAAa,EAGKlB,IAAMI,SAAS,MAHpBe,EAAAvC,OAAA0B,EAAA,EAAA1B,CAAAsC,EAAA,GAGhBgE,EAHgB/D,EAAA,GAGRmK,EAHQnK,EAAA,GAAAG,EAIOtB,IAAMI,UAAS,GAJtBmB,EAAA3C,OAAA0B,EAAA,EAAA1B,CAAA0C,EAAA,GAIhBiK,EAJgBhK,EAAA,GAIPiK,EAJOjK,EAAA,GAKjBkK,EAAY3I,EAAM4I,SAASC,SAAS/D,SAAS,OAC7CgE,EAAY9I,EAAM4I,SAASC,SAAS/D,SAAS,OAC7CiE,EAAOC,OAAOhJ,EAAM+H,MAAMR,OAAOwB,MACjCE,EAAWrN,EAASQ,GAAG0E,WAAW,SA2CxC,SAASoI,EAAe1E,GACtB,IAAMN,EAAQM,EAASC,KAAKC,IAAI,SAAAjC,GAC9B,OAAO3G,OAAAoD,EAAA,EAAApD,CAAA,CAAEwE,GAAImC,EAAInC,IAAOmC,EAAIK,UAExBqG,EAAWjF,EAAMA,EAAMrF,OAAS,GACtCsF,EAASD,GACTsE,EAAUW,GACVT,GAAW,GAhDbxL,IAAMS,UAAU,WACd,IAAMC,EAIR,WACE8K,GAAW,GACX,IAAMU,EAAYC,QAAQjH,GAC1B,GAAI0G,EACF,OAAOG,EACJK,QAAQ,YAAa,QACrBC,MAAM3H,GACN4H,WAAWN,GACT,GAAa,IAATH,EACT,OAAOE,EACJK,QAAQ,UAAW,QACnBC,MAAM3H,GACN4H,WAAWN,GACT,GAAIE,EACT,OAAOH,EACJK,QAAQ,UAAW,QACnBG,WAAWrH,EAAOzB,SAClB4I,MAAM3H,GACN4H,WAAWN,GAEd,IAAMQ,EAASX,EAAOnH,EAAiBA,EAYvC,OAXA+H,IACGjH,IADH,6EAAAQ,OAEiFwG,IAE9E/G,KAAK,SAAAiH,GACJ,IAAM1F,EAAQ0F,EAAS9G,KACjBqG,EAAWjF,EAAMA,EAAMrF,OAAS,GACtCsF,EAASD,GACTsE,EAAUW,GACVT,GAAW,KAER,aApCWmB,GACpB,OAAO,kBAAMjM,MACZ,CAACkL,EAAWC,IA4Df,IAAMe,EAAYf,GAAQA,EAAO,GAAKnH,EAAiB,EAAI,EAE3D,OACEV,EAAAC,EAAAC,cAAA,OAAKe,MAAO,CAAE4H,QAAStB,EAAU,IAAO,IACrCvE,EAAMQ,IAAI,SAAC1C,EAAMC,GAAP,OACTf,EAAAC,EAAAC,cAAC4D,EAAD,CACEC,IAAKjD,EAAK1B,GACVyB,WAAW,EACXC,KAAMA,EACNC,MAAOA,EAAQ6H,MAGlBnB,GACCzH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cAAciB,QA1BrC,WACMwG,EAAO,GACT/I,EAAMgB,QAAQC,KAAd,QAAAiC,OAA2B6F,EAAO,MAwB9B,YAGA7H,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cAAciB,QAvBrC,WACMwG,GAAQ7E,EAAMrF,OAAS+C,GACzB5B,EAAMgB,QAAQC,KAAd,QAAAiC,OAA2B6F,EAAO,MAqB9B,WC3CKlH,kBAjDf,WAAkB,IAAA5B,EACW/C,IAAMgD,WAAWjD,GAApCN,EADQsD,EACRtD,KAAMf,EADEqE,EACFrE,SACd,OACEsF,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,OAAK4I,IAAI,YAAYC,IAAI,kBAAkB3I,UAAU,SACrDJ,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAASC,GAAG,IAAInC,UAAU,gBAA1B,cAGAJ,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAASC,GAAG,IAAInC,UAAU,eAA1B,OAGAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WAAf,KACAJ,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAASC,GAAG,OAAOnC,UAAU,eAA7B,OAGAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WAAf,KACAJ,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAASC,GAAG,UAAUnC,UAAU,eAAhC,UAGC3E,GACCuE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACG,IACDxC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WAAf,KACAJ,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAASC,GAAG,UAAUnC,UAAU,eAAhC,YAMNJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACZ3E,EACCuE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACExC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eAAe3E,EAAKE,aACnCqE,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WAAf,KACAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBAAgBiB,QAAS,kBAAM3G,EAASsO,WAAvD,WAKFhJ,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAASC,GAAG,SAASnC,UAAU,eAA/B,aCPK6I,MAzBf,WACE,IAAMxN,EAAOS,IACb,OACE8D,EAAAC,EAAAC,cAACoC,EAAA,EAAD,KACEtC,EAAAC,EAAAC,cAACgJ,EAAgBC,SAAjB,CAA0BhL,MAAO,CAAE1C,OAAMf,aACvCsF,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACbJ,EAAAC,EAAAC,cAACkJ,EAAD,MACApJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,mBACbJ,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,KACErJ,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAMxJ,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAU9G,GAAG,cACjDvC,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAOE,KAAK,UAAUE,UAAW5K,IACjCmB,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAOE,KAAK,SAASE,UAAWxF,IAChCjE,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAOE,KAAK,UAAUE,UAAW5D,IACjC7F,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAOE,KAAK,UAAUE,UAAWC,IACjC1J,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAOE,KAAK,OAAOE,UAAWpC,IAC9BrH,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAOE,KAAK,aAAaE,UAAWpC,IACpCrH,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAOE,KAAK,gBAAgBE,UAAWjD,UChBjC2B,QACW,cAA7BwB,OAAOjC,SAASkC,UAEe,UAA7BD,OAAOjC,SAASkC,UAEhBD,OAAOjC,SAASkC,SAAS/C,MACvB,2DCZNgD,IAASL,OAAOxJ,EAAAC,EAAAC,cAAC4J,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM1I,KAAK,SAAA2I,GACjCA,EAAaC","file":"static/js/main.7ecbe534.chunk.js","sourcesContent":["// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyAYPK2-QSZdpQwX6unspPrJpEqy1TCp0RI\",\r\n  authDomain: \"hooks-news1.firebaseapp.com\",\r\n  databaseURL: \"https://hooks-news1.firebaseio.com\",\r\n  projectId: \"hooks-news1\",\r\n  storageBucket: \"hooks-news1.appspot.com\",\r\n  messagingSenderId: \"446718869008\",\r\n  appId: \"1:446718869008:web:2ae131fce882d891a69495\"\r\n};\r\n\r\nexport default firebaseConfig;\r\n","import app from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nimport firebaseConfig from \"./config\";\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    // Initialize Firebase\r\n    app.initializeApp(firebaseConfig);\r\n\r\n    this.auth = app.auth();\r\n\r\n    this.db = app.firestore();\r\n  }\r\n  async register(name, email, password) {\r\n    const newUser = await this.auth.createUserWithEmailAndPassword(\r\n      email,\r\n      password\r\n    );\r\n    return await newUser.user.updateProfile({\r\n      displayName: name\r\n    });\r\n  }\r\n  async login(email, password) {\r\n    return await this.auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n  async logout() {\r\n    await this.auth.signOut();\r\n  }\r\n  async resetPassword(email) {\r\n    await this.auth.sendPasswordResetEmail(email);\r\n  }\r\n}\r\n\r\nconst firebase = new Firebase();\r\nexport default firebase;\r\n","import React from \"react\";\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport default FirebaseContext;\r\n","import firebase from \"./firebase\";\r\nimport FirebaseContext from \"./context\";\r\n\r\nexport { FirebaseContext };\r\n\r\nexport default firebase;\r\n","import React from \"react\";\nimport firebase from \"../../firebase\";\n\nfunction useAuth() {\n  const [authUser, setAuthUser] = React.useState(null);\n\n  React.useEffect(() => {\n    const unsubscribe = firebase.auth.onAuthStateChanged(user => {\n      if (user) {\n        setAuthUser(user);\n      } else {\n        setAuthUser(null);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  return authUser;\n}\n\nexport default useAuth;\n","import React from \"react\";\n\nfunction useFormValidation(initialState, validate, authenticate) {\n  const [values, setValues] = React.useState(initialState);\n  const [errors, setErrors] = React.useState({});\n  const [isSubmiting, setIsSubmiting] = React.useState(false);\n\n  React.useEffect(() => {\n    if (isSubmiting) {\n      const noErrors = Object.keys(errors).length === 0;\n      if (noErrors) {\n        authenticate();\n        setIsSubmiting(false);\n      } else {\n        setIsSubmiting(false);\n      }\n    }\n  }, [errors]);\n\n  function handleChange(event) {\n    event.persist();\n    setValues(previousValues => ({\n      ...previousValues,\n      [event.target.name]: event.target.value\n    }));\n  }\n\n  function handleBlure() {\n    const validationErrors = validate(values);\n    setErrors(validationErrors);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const validationErrors = validate(values);\n    setErrors(validationErrors);\n    setIsSubmiting(true);\n  }\n  return {\n    handleChange,\n    handleSubmit,\n    handleBlure,\n    values,\n    errors,\n    isSubmiting\n  };\n}\n\nexport default useFormValidation;\n","export default function validateCreateLink(values) {\n  let errors = {};\n\n  //Description Errors\n  if (!values.description) {\n    errors.description = \"Description required\";\n  } else if (values.description.length < 10) {\n    errors.description = \"Description must be at least 10 characters\";\n  }\n  //URL Errors\n  if (!values.url) {\n    errors.url = \"URL required\";\n  } else if (!/^(ftp|http|https):\\/\\/[^ \"]+$/.test(values.url)) {\n    errors.url = \"Please enter a valid URL\";\n  }\n  return errors;\n}\n","import React from \"react\";\nimport useFormValidation from \"../Auth/useFormValidation\";\nimport validateCreateLink from \"../Auth/validateCreateLink\";\nimport FirebaseContext from \"../../firebase/context\";\n\nconst INITIAL_STATE = {\n  description: \"\",\n  url: \"\"\n};\n\nfunction CreateLink(props) {\n  const { firebase, user } = React.useContext(FirebaseContext);\n  const {\n    handleChange,\n    handleSubmit,\n    values,\n    errors,\n    isSubmiting\n  } = useFormValidation(INITIAL_STATE, validateCreateLink, handleCreateLink);\n\n  function handleCreateLink() {\n    if (!user) {\n      props.history.push(\"/login\");\n    } else {\n      const { url, description } = values;\n      const newLink = {\n        url,\n        description,\n        postedBy: {\n          id: user.uid,\n          name: user.displayName\n        },\n        voteCount: 0,\n        votes: [],\n        comments: [],\n        created: Date.now()\n      };\n      firebase.db.collection(\"links\").add(newLink);\n      props.history.push(\"/\");\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"flex flex-column mt3\">\n      <input\n        onChange={handleChange}\n        value={values.description}\n        name=\"description\"\n        placeholder=\"A description for your link\"\n        autoComplete=\"off\"\n        text=\"text\"\n        className={errors.description && \"error-input\"}\n      />\n      {errors.description && <p className=\"error-text\">{errors.description}</p>}\n      <input\n        onChange={handleChange}\n        value={values.url}\n        name=\"url\"\n        placeholder=\"http://\"\n        autoComplete=\"off\"\n        text=\"url\"\n        className={errors.url && \"error-input\"}\n      />\n      {errors.url && <p className=\"error-text\">{errors.url}</p>}\n      <button className=\"button\" type=\"submit\">\n        Submit\n      </button>\n    </form>\n  );\n}\n\nexport default CreateLink;\n","export const LINKS_PER_PAGE = 3;\n\nexport function getDomain(url) {\n  return url.replace(/^https?:\\/\\//i, \"\");\n}\n\n/* EMAIL REGEX: !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email) */\n/* URL REGEX: !/^(ftp|http|https):\\/\\/[^ \"]+$/.test(values.url) */\n","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { getDomain } from \"../../utils\";\nimport distanceInWordsToNow from \"date-fns/distance_in_words_to_now\";\nimport FirebaseContext from \"../../firebase/context\";\n\nfunction LinkItem({ showCount, link, index, history }) {\n  const { firebase, user } = React.useContext(FirebaseContext);\n\n  function handleVote() {\n    if (!user) {\n      history.push(\"/login\");\n    } else {\n      // A pattern to update a doc in firebase\n      const voteRef = firebase.db.collection(\"links\").doc(link.id);\n      voteRef.get().then(doc => {\n        if (doc.exists) {\n          const previosVotes = doc.data().votes;\n          const vote = { votedBy: { id: user.uid, name: user.displayName } };\n          const updatedVotes = [...previosVotes, vote];\n          const voteCount = updatedVotes.length;\n\n          voteRef.update({ votes: updatedVotes, voteCount });\n        }\n      });\n    }\n  }\n\n  function handleDeleteLink() {\n    const linkRef = firebase.db.collection(\"links\").doc(link.id);\n    linkRef\n      .delete()\n      .then(() => {\n        console.log(`Document with ID ${link.id} deleted`);\n      })\n      .catch(err => {\n        console.error(\"Error deliting link\", err);\n      });\n  }\n  const postedByAuthUser = user && user.uid === link.postedBy.id;\n\n  return (\n    <div className=\"flex items-start mt2\">\n      <div className=\"flex items-center\">\n        {showCount && <span className=\"gray\">{index}.</span>}\n        <div\n          className=\"vote-button\"\n          style={{\n            cursor: \"pointer\",\n            fontSize: \"1.1rem\",\n            color: \"LIGHTSALMON\"\n          }}\n          onClick={handleVote}\n        >\n          â¯…\n        </div>\n      </div>\n      <div className=\"ml1\">\n        <div>\n          <a href={link.url} className=\"black no-underline\">\n            {link.description}\n          </a>{\" \"}\n          <span className=\"link\">({getDomain(link.url)})</span>\n        </div>\n        <div className=\"f6 lh-copy gray\">\n          {link.voteCount} votes by {link.postedBy.name}{\" \"}\n          {distanceInWordsToNow(link.created)}\n          {\"  |  \"}\n          <Link to={`/link/${link.id}`}>\n            {link.comments.length > 0\n              ? `${link.comments.length} comments`\n              : \"discuss\"}\n          </Link>\n          {postedByAuthUser && (\n            <>\n              {\"  |  \"}\n              <span className=\"delete-button\" onClick={handleDeleteLink}>\n                Delete\n              </span>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(LinkItem);\n","import React, { useEffect } from \"react\";\nimport FirebaseContext from \"../../firebase/context\";\nimport LinkItem from \"./LinkItem\";\n\nfunction SearchLinks() {\n  const { firebase } = React.useContext(FirebaseContext);\n  const [links, setLinks] = React.useState([]);\n  const [filteredlinks, setFilteredLinks] = React.useState([]);\n  const [filter, setFilter] = React.useState(\"\");\n\n  useEffect(() => {\n    getInitealLinks();\n  }, []);\n\n  function getInitealLinks() {\n    firebase.db\n      .collection(\"links\")\n      .get()\n      .then(snapshot => {\n        const links = snapshot.docs.map(doc => {\n          return { id: doc.id, ...doc.data() };\n        });\n        setLinks(links);\n      });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const query = filter.toLowerCase();\n    const machedLinks = links.filter(link => {\n      return (\n        link.description.toLowerCase().includes(query) ||\n        link.url.toLowerCase().includes(query) ||\n        link.postedBy.name.toLowerCase().includes(query)\n      );\n    });\n    setFilteredLinks(machedLinks);\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          Search <input onChange={event => setFilter(event.target.value)} />\n          <button>Ok</button>\n        </div>\n      </form>\n      {filteredlinks.map((filteredLink, index) => (\n        <LinkItem\n          key={filteredLink.id}\n          showCount={false}\n          link={filteredLink}\n          index={index}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default SearchLinks;\n","export default function validateLogin(values) {\n  let errors = {};\n\n  //Email Errors\n  if (!values.email) {\n    errors.email = \"Email required\";\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n    errors.email = \"Invalid email address\";\n  }\n  //Password Errors\n  if (!values.password) {\n    errors.password = \"Password required\";\n  } else if (values.password.length < 6) {\n    errors.password = \"Password must be at least 6 characters\";\n  }\n  return errors;\n}\n","import React, { useState } from \"react\";\nimport useFormValidation from \"./useFormValidation\";\nimport validateLogin from \"./validateLogin\";\nimport firebase from \"../../firebase\";\nimport { Link } from \"react-router-dom\";\n\nconst INITIAL_STATE = {\n  name: \"\",\n  email: \"\",\n  password: \"\"\n};\n\nfunction Login(props) {\n  const {\n    handleChange,\n    handleSubmit,\n    handleBlure,\n    values,\n    errors,\n    isSubmiting\n  } = useFormValidation(INITIAL_STATE, validateLogin, authnticateUser);\n  const [login, setLogin] = useState(true);\n  const [firebaseError, setFirebaseError] = useState(null);\n\n  async function authnticateUser() {\n    const { name, email, password } = values;\n\n    try {\n      login\n        ? await firebase.login(email, password)\n        : await firebase.register(name, email, password);\n      props.history.push(\"/\");\n    } catch (error) {\n      console.error(\"Authentocation Error\", error);\n      setFirebaseError(error.message);\n    }\n  }\n\n  return (\n    <div>\n      <h2 className=\"mv3\">{login ? \"Login\" : \"Create Account\"}</h2>\n      <form onSubmit={handleSubmit} className=\"flex flex-column\">\n        {!login && (\n          <input\n            onChange={handleChange}\n            value={values.name}\n            name=\"name\"\n            type=\"text\"\n            placeholder=\"Your Name\"\n            autoComplete=\"off\"\n          />\n        )}\n        <input\n          onChange={handleChange}\n          onBlur={handleBlure}\n          value={values.email}\n          type=\"email\"\n          name=\"email\"\n          className={errors.email && \"error-input\"}\n          placeholder=\"Your Email\"\n          autoComplete=\"off\"\n        />\n        {errors.email && <p className=\"error-text\">{errors.email}</p>}\n        <input\n          onChange={handleChange}\n          onBlur={handleBlure}\n          value={values.password}\n          type=\"password\"\n          name=\"password\"\n          className={errors.password && \"error-input\"}\n          placeholder=\"Choose a secure password\"\n        />\n        {errors.password && <p className=\"error-text\">{errors.password}</p>}\n        {firebaseError && <p className=\"error-text\">{firebaseError}</p>}\n        <div className=\"flex mt3\">\n          <button\n            type=\"submit\"\n            className=\"button pointer br2\"\n            disabled={isSubmiting}\n            style={{ background: isSubmiting ? \"grey\" : \"orange\" }}\n          >\n            Submit\n          </button>\n          <button\n            type=\"button\"\n            className=\"button pointer\"\n            onClick={() => setLogin(prevLogin => !prevLogin)}\n          >\n            {login ? \"Need to Create an Account?\" : \"Already have an account?\"}\n          </button>\n        </div>\n      </form>\n      <div className=\"forgot-password\">\n        <Link to=\"forgot\">Forgot password?</Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport FirebaseContext from \"../../firebase/context\";\n\nfunction ForgotPassword() {\n  const { firebase } = React.useContext(FirebaseContext);\n  const [resetPasswordEmail, setResetPasswordEmail] = React.useState(\"\");\n  const [isPaawordReset, setIsPasswordReset] = React.useState(false);\n  const [passwordResetError, setPasswordResetError] = React.useState(null);\n\n  async function handleResetPassword(params) {\n    try {\n      await firebase.resetPassword(resetPasswordEmail);\n      setIsPasswordReset(true);\n      setPasswordResetError(null);\n    } catch (error) {\n      console.error(\"Error sending email\", error);\n      setPasswordResetError(error.message);\n      setIsPasswordReset(false);\n    }\n  }\n\n  return (\n    <div>\n      <input\n        type=\"email\"\n        className=\"input\"\n        placeholder=\"Provide your account email\"\n        onChange={event => setResetPasswordEmail(event.target.value)}\n      />\n      <div>\n        <button className=\"button\" onClick={handleResetPassword}>\n          Reset Password\n        </button>\n      </div>\n      {isPaawordReset && <p>Check email to reset password</p>}\n      {passwordResetError && <p className=\"error-text\">{passwordResetError}</p>}\n    </div>\n  );\n}\n\nexport default ForgotPassword;\n","import React from \"react\";\nimport FirebaseContext from \"../../firebase/context\";\nimport LinkItem from \"./LinkItem\";\nimport distanceInWordsToNow from \"date-fns/distance_in_words_to_now\";\n\nfunction LinkDetail(props) {\n  const { firebase, user } = React.useContext(FirebaseContext);\n  const [link, setLink] = React.useState(null);\n  const [commentText, setCommentText] = React.useState(\"\");\n  const linkId = props.match.params.linkId;\n  const linkRef = firebase.db.collection(\"links\").doc(linkId);\n\n  React.useEffect(() => {\n    return getLink();\n  }, []);\n\n  function getLink() {\n    linkRef.get().then(doc => {\n      setLink({ ...doc.data(), id: doc.id });\n    });\n  }\n\n  function handleAddComment() {\n    if (!user) {\n      props.history.push(\"/login\");\n    } else {\n      linkRef.get().then(doc => {\n        if (doc.exists) {\n          const previousComments = doc.data().comments;\n          const comment = {\n            postedBy: { id: user.uid, name: user.displayName },\n            created: Date.now(),\n            text: commentText\n          };\n          const updatedComments = [...previousComments, comment];\n          linkRef.update({ comments: updatedComments });\n          setLink(preState => ({\n            ...preState,\n            comments: updatedComments\n          }));\n          setCommentText(\"\");\n        }\n      });\n    }\n  }\n\n  return !link ? (\n    <div>Loading...</div>\n  ) : (\n    <div>\n      <LinkItem showCount={false} link={link} />\n      <textarea\n        onChange={event => setCommentText(event.target.value)}\n        value={commentText}\n        rows=\"6\"\n        cols=\"60\"\n      />\n      <div>\n        <button onClick={handleAddComment} className=\"button\">\n          Add Comment\n        </button>\n      </div>\n      {link.comments.map((comment, index) => (\n        <div key={index}>\n          <p className=\"comment-author\">\n            {comment.postedBy.name} | {distanceInWordsToNow(comment.created)}\n          </p>\n          <p>{comment.text}</p>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default LinkDetail;\n","import React from \"react\";\nimport FirebaseContext from \"../../firebase/context\";\nimport LinkItem from \"./LinkItem\";\nimport { LINKS_PER_PAGE } from \"../../utils/\";\nimport axios from \"axios\";\n\nfunction LinkList(props) {\n  const { firebase } = React.useContext(FirebaseContext);\n  const [links, setLinks] = React.useState([]);\n  const [cursor, setCursor] = React.useState(null);\n  const [loading, setLoading] = React.useState(false);\n  const isNewPage = props.location.pathname.includes(\"new\");\n  const isTopPage = props.location.pathname.includes(\"top\");\n  const page = Number(props.match.params.page);\n  const linskRef = firebase.db.collection(\"links\");\n\n  React.useEffect(() => {\n    const unsubscribe = getLinks();\n    return () => unsubscribe();\n  }, [isTopPage, page]);\n\n  function getLinks() {\n    setLoading(true);\n    const hasCursor = Boolean(cursor);\n    if (isTopPage) {\n      return linskRef\n        .orderBy(\"voteCount\", \"desc\")\n        .limit(LINKS_PER_PAGE)\n        .onSnapshot(handleSnapshot);\n    } else if (page === 1) {\n      return linskRef\n        .orderBy(\"created\", \"desc\")\n        .limit(LINKS_PER_PAGE)\n        .onSnapshot(handleSnapshot);\n    } else if (hasCursor) {\n      return linskRef\n        .orderBy(\"created\", \"desc\")\n        .startAfter(cursor.created)\n        .limit(LINKS_PER_PAGE)\n        .onSnapshot(handleSnapshot);\n    } else {\n      const offset = page * LINKS_PER_PAGE - LINKS_PER_PAGE;\n      axios\n        .get(\n          `https://us-central1-hooks-news1.cloudfunctions.net/linksPagination?offset=${offset}`\n        )\n        .then(response => {\n          const links = response.data;\n          const lastLink = links[links.length - 1];\n          setLinks(links);\n          setCursor(lastLink);\n          setLoading(false);\n        });\n      return () => {};\n    }\n  }\n\n  function handleSnapshot(snapshot) {\n    const links = snapshot.docs.map(doc => {\n      return { id: doc.id, ...doc.data() };\n    });\n    const lastLink = links[links.length - 1];\n    setLinks(links);\n    setCursor(lastLink);\n    setLoading(false);\n  }\n\n  function visitPrevious() {\n    if (page > 1) {\n      props.history.push(`/new/${page - 1}`);\n    }\n  }\n\n  function visitNext() {\n    if (page <= links.length / LINKS_PER_PAGE) {\n      props.history.push(`/new/${page + 1}`);\n    }\n  }\n\n  const pageIndex = page ? (page - 1) * LINKS_PER_PAGE + 1 : 0;\n\n  return (\n    <div style={{ opacity: loading ? 0.25 : 1 }}>\n      {links.map((link, index) => (\n        <LinkItem\n          key={link.id}\n          showCount={true}\n          link={link}\n          index={index + pageIndex}\n        />\n      ))}\n      {isNewPage && (\n        <div className=\"pagination\">\n          <div className=\"pointer mr2\" onClick={visitPrevious}>\n            Previous\n          </div>\n          <div className=\"pointer mr2\" onClick={visitNext}>\n            Next\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default LinkList;\n","import React from \"react\";\nimport { withRouter, NavLink } from \"react-router-dom\";\nimport { FirebaseContext } from \"../firebase/\";\n\nfunction Header() {\n  const { user, firebase } = React.useContext(FirebaseContext);\n  return (\n    <div className=\"header\">\n      <div className=\"flex\">\n        <img src=\"/logo.png\" alt=\"Hooks News Logo\" className=\"logo\" />\n        <NavLink to=\"/\" className=\"header-title\">\n          Hooks News\n        </NavLink>\n        <NavLink to=\"/\" className=\"header-link\">\n          New\n        </NavLink>\n        <div className=\"divider\">|</div>\n        <NavLink to=\"/top\" className=\"header-link\">\n          Top\n        </NavLink>\n        <div className=\"divider\">|</div>\n        <NavLink to=\"/search\" className=\"header-link\">\n          Search\n        </NavLink>\n        {user && (\n          <>\n            {\" \"}\n            <div className=\"divider\">|</div>\n            <NavLink to=\"/create\" className=\"header-link\">\n              Submit\n            </NavLink>\n          </>\n        )}\n      </div>\n      <div className=\"flex\">\n        {user ? (\n          <>\n            <div className=\"header-name\">{user.displayName}</div>\n            <div className=\"divider\">|</div>\n            <div className=\"header-button\" onClick={() => firebase.logout()}>\n              logout\n            </div>\n          </>\n        ) : (\n          <NavLink to=\"/login\" className=\"header-link\">\n            login\n          </NavLink>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Header);\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport useAuth from \"./Auth/useAuth\";\nimport CreateLink from \"./Link/CreateLink\";\nimport SearchLink from \"./Link/SearchLinks\";\nimport Login from \"./Auth/Login\";\nimport ForgotPassword from \"./Auth/ForgotPassword\";\nimport LinkDetail from \"./Link/LinkDetail\";\nimport LinkList from \"./Link/LinkList\";\nimport Header from \"./Header\";\nimport firebase, { FirebaseContext } from \"../firebase\";\n\nfunction App() {\n  const user = useAuth();\n  return (\n    <BrowserRouter>\n      <FirebaseContext.Provider value={{ user, firebase }}>\n        <div className=\"app-container\">\n          <Header />\n          <div className=\"route-container\">\n            <Switch>\n              <Route exact path=\"/\" render={() => <Redirect to=\"/new/1\" />} />\n              <Route path=\"/create\" component={CreateLink} />\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/forgot\" component={ForgotPassword} />\n              <Route path=\"/search\" component={SearchLink} />\n              <Route path=\"/top\" component={LinkList} />\n              <Route path=\"/new/:page\" component={LinkList} />\n              <Route path=\"/link/:linkId\" component={LinkDetail} />\n            </Switch>\n          </div>\n        </div>\n      </FirebaseContext.Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}